# This workflow will do a clean installation of the dependencies and builds the source code
name: test
       
on: [push, pull_request]

jobs:
  test: 
    env:
      port: ${{ secrets.SSH_PORT }}
      username: ${{ secrets.SSH_USERNAME}}
      password: ${{ secrets.SSH_PASSWORD}}
      host: ${{ secrets.SSH_HOST}}
      
    runs-on: ubuntu-latest
    steps:
      # Checkouts out of the repo
      - name: Checkout repo
        uses: actions/checkout@v3
      # Install the dependencies  
      - name: Install dependencies
        run: npm install
      # Runs the tests if they exist
      - name: Run test
        run: npm test
 
    # Similar to npm install, but with some differences 
#     - name: Install dependencies
#       run: npm ci
      
